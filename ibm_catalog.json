{
  "products": [
    {
      "name": "deploy-arch-ibm-slz-vsi",
      "label": "VSI on VPC landing zone",
      "product_kind": "solution",
      "tags": [
        "virtualservers",
        "ibm_created",
        "target_terraform",
        "terraform",
        "reference_architecture",
        "solution"
      ],
      "keywords": [
        "vpc",
        "slz",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "vsi",
        "virtual server instance"
      ],
      "short_description": "Creates a secure infrastructure with virtual servers to run your workloads on a VPC network",
      "long_description": "The VSI on VPC landing zone provides secure and customizable compute resources for running your applications and services. It creates secure and compliant Virtual Server Instances (VSI) on top of an existing Virtual Private Cloud (VPC) network.",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-vsi",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/.docs/images/deploy-arch-slz-vsi-lt.svg",
      "provider_name": "IBM",
      "features": [
        {
          "description": "Creates and configures one or more virtual servers to handle workloads.\n",
          "title": "Creates virtual servers for workloads"
        },
        {
          "description": "Configures the subnets for the VSIs and specifies which subnets the instances are deployed in.\n",
          "title": "Configures subnets"
        },
        {
          "description": "Associates security groups with the VSIs to control inbound and outbound traffic to instances.\n",
          "title": "Associates security groups"
        },
        {
          "description": "Provisions and manages SSH keys for the VSIs so that you can securely administer the instances.\n",
          "title": "Provisions SSH keys"
        },
        {
          "description": "Configures existing CBR (Context-based restrictions) rules to allow traffic to flow only from the landing zone VPCs to specific cloud services.\n",
          "title": "Configures CBR"
        }
      ],
      "flavors": [
        {
          "label": "QuickStart",
          "name": "quickstart",
          "install_type": "fullstack",
          "working_directory": "patterns/vsi-quickstart",
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true,
              "type": "string"
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "textarea"
              },
              "key": "user_data"
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "ssh_key"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Separate VPC for management",
                "description": "Yes"
              },
              {
                "title": "Separate VPC for workloads",
                "description": "Yes"
              },
              {
                "title": "Adds a virtual server instance in every VPC subnet",
                "description": "Yes"
              },
              {
                "title": "Increases security with Key Management",
                "description": "Yes"
              },
              {
                "title": "Reduces failure events by using multizone regions",
                "description": "No"
              },
              {
                "title": "Collects and stores Internet Protocol (IP) traffic information with Activity Tracker and Flow Logs",
                "description": "No"
              },
              {
                "title": "Securely connects to multiple networks with a site-to-site virtual private network",
                "description": "No"
              },
              {
                "title": "Simplifies risk management and demonstrates regulatory compliance with Financial Services",
                "description": "No"
              },
              {
                "title": "Uses an edge VPC for secure access through the public internet",
                "description": "No"
              },
              {
                "title": "Uses floating IP addresses for access through the public internet",
                "description": "Yes"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "VSI on VPC landing zone - QuickStart variation",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vsi-quickstart.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The QuickStart variation of the VSI on VPC landing zone deployable architecture creates a fully customizable Virtual Private Cloud (VPC) environment in a single region. The solution provides virtual servers in a secure VPC for your workloads. The QuickStart variation is designed to deploy quickly for demonstration and development."
              }
            ]
          }
        },
        {
          "label": "Standard",
          "name": "standard",
          "install_type": "fullstack",
          "working_directory": "patterns/vsi",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "ssh_public_key",
              "required": true
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix"
            },
            {
              "key": "existing_ssh_key_name"
            },
            {
              "key": "tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_cidr"
            },
            {
              "key": "vpcs"
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "transit_gateway_global"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "hs_crypto_instance_name"
            },
            {
              "key": "hs_crypto_resource_group"
            },
            {
              "key": "use_random_cos_suffix"
            },
            {
              "key": "vsi_image_name"
            },
            {
              "key": "vsi_instance_profile"
            },
            {
              "key": "vsi_per_subnet"
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "textarea"
              },
              "key": "user_data"
            },
            {
              "key": "use_legacy_network_interface"
            },
            {
              "key": "allow_ip_spoofing"
            },
            {
              "key": "add_edge_vpc",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "create_f5_network_on_management_vpc"
            },
            {
              "hidden": true,
              "key": "provision_teleport_in_f5"
            },
            {
              "hidden": true,
              "key": "vpn_firewall_type"
            },
            {
              "hidden": true,
              "key": "f5_image_name"
            },
            {
              "hidden": true,
              "key": "f5_instance_profile"
            },
            {
              "hidden": true,
              "key": "hostname"
            },
            {
              "hidden": true,
              "key": "domain"
            },
            {
              "hidden": true,
              "key": "tmos_admin_password",
              "type": "password"
            },
            {
              "hidden": true,
              "key": "license_type"
            },
            {
              "hidden": true,
              "key": "byol_license_basekey"
            },
            {
              "hidden": true,
              "key": "license_host"
            },
            {
              "hidden": true,
              "key": "license_username"
            },
            {
              "hidden": true,
              "key": "license_password"
            },
            {
              "hidden": true,
              "key": "license_pool"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_1"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_2"
            },
            {
              "hidden": true,
              "key": "license_unit_of_measure"
            },
            {
              "hidden": true,
              "key": "do_declaration_url"
            },
            {
              "hidden": true,
              "key": "ts_declaration_url"
            },
            {
              "hidden": true,
              "key": "as3_declaration_url"
            },
            {
              "hidden": true,
              "key": "phone_home_url"
            },
            {
              "hidden": true,
              "key": "template_source"
            },
            {
              "hidden": true,
              "key": "template_version"
            },
            {
              "hidden": true,
              "key": "app_id"
            },
            {
              "hidden": true,
              "key": "tgactive_url"
            },
            {
              "hidden": true,
              "key": "tgstandby_url"
            },
            {
              "hidden": true,
              "key": "tgrefresh_url"
            },
            {
              "hidden": true,
              "key": "enable_f5_management_fip"
            },
            {
              "hidden": true,
              "key": "enable_f5_external_fip"
            },
            {
              "hidden": true,
              "key": "teleport_management_zones"
            },
            {
              "hidden": true,
              "key": "use_existing_appid"
            },
            {
              "hidden": true,
              "key": "appid_name"
            },
            {
              "hidden": true,
              "key": "appid_resource_group"
            },
            {
              "hidden": true,
              "key": "teleport_instance_profile"
            },
            {
              "hidden": true,
              "key": "teleport_vsi_image_name"
            },
            {
              "hidden": true,
              "key": "teleport_license"
            },
            {
              "hidden": true,
              "key": "https_cert"
            },
            {
              "hidden": true,
              "key": "https_key"
            },
            {
              "key": "teleport_hostname",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "teleport_domain"
            },
            {
              "hidden": true,
              "key": "teleport_version"
            },
            {
              "hidden": true,
              "key": "message_of_the_day"
            },
            {
              "hidden": true,
              "key": "teleport_admin_email"
            },
            {
              "key": "skip_kms_block_storage_s2s_auth_policy"
            },
            {
              "key": "skip_all_s2s_auth_policies"
            },
            {
              "key": "override",
              "hidden": true
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "key": "IC_SCHEMATICS_WORKSPACE_ID"
            },
            {
              "key": "existing_vpc_cbr_zone_id"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Separate VPC for management",
                "description": "Yes"
              },
              {
                "title": "Separate VPC for workloads",
                "description": "Yes"
              },
              {
                "title": "Virtual Server Instances for every subnet",
                "description": "Yes"
              },
              {
                "title": "Increases security with Key Management",
                "description": "Yes"
              },
              {
                "title": "Reduces failure events by using multizone regions",
                "description": "Yes"
              },
              {
                "title": "Collects and stores Internet Protocol (IP) traffic information with Activity Tracker and Flow Logs",
                "description": "Yes"
              },
              {
                "title": "Securely connects to multiple networks with a site-to-site virtual private network",
                "description": "Yes"
              },
              {
                "title": "Simplifies risk management and demonstrates regulatory compliance with Financial Services",
                "description": "Yes"
              },
              {
                "title": "Uses an edge VPC for secure access through the public internet",
                "description": "Yes, if enabled"
              },
              {
                "title": "Uses floating IP addresses for access through the public internet",
                "description": "No"
              },
              {
                "description": "Configures existing CBR (Context-based restrictions) rules to allow traffic to flow only from the landing zone VPCs to specific cloud services.\n",
                "title": "Configures CBR"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "VSI on VPC landing zone - Standard variation",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vsi-vsi.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The Standard variation of the VSI on VPC landing zone deployable architecture is based on the IBM Cloud for Financial Services reference architecture. The architecture creates a customizable and secure infrastructure, with virtual servers, to run your workloads with a Virtual Private Cloud (VPC) in multizone regions."
              }
            ]
          }
        },
        {
          "label": "Existing VPC",
          "name": "existing-vpc",
          "install_type": "extension",
          "working_directory": "patterns/vsi-extension",
          "dependencies": [
            {
              "flavors": [
                "standard"
              ],
              "id": "95fccffc-ae3b-42df-b6d9-80be5914d852-global",
              "name": "deploy-arch-ibm-slz-ocp",
              "version": ">=1.0.0",
              "optional": false
            },
            {
              "flavors": [
                "standard"
              ],
              "id": "9fc0fa64-27af-4fed-9dce-47b3640ba739-global",
              "name": "deploy-arch-ibm-slz-vpc",
              "version": ">=1.0.0"
            }
          ],
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "configuration": [
            {
              "key": "ssh_public_key",
              "required": true
            },
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix"
            },
            {
              "key": "vpc_id"
            },
            {
              "key": "existing_ssh_key_name"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "access_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "image_name"
            },
            {
              "key": "vsi_instance_profile"
            },
            {
              "key": "user_data"
            },
            {
              "key": "boot_volume_encryption_key"
            },
            {
              "key": "vsi_per_subnet"
            },
            {
              "key": "subnet_names"
            },
            {
              "key": "security_group_ids"
            },
            {
              "key": "block_storage_volumes"
            },
            {
              "key": "skip_iam_authorization_policy"
            },
            {
              "key": "enable_floating_ip"
            },
            {
              "key": "placement_group_id"
            },
            {
              "key": "load_balancers"
            },
            {
              "key": "primary_vni_additional_ip_count"
            },
            {
              "key": "use_legacy_network_interface"
            },
            {
              "key": "allow_ip_spoofing"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Adds a virtual server instance in every VPC subnet",
                "description": "Yes"
              },
              {
                "title": "Increases security with Key Management",
                "description": "Yes"
              },
              {
                "title": "Simplifies risk management and demonstrates regulatory compliance with Financial Services",
                "description": "Yes"
              },
              {
                "title": "Uses Floating IP address for access through the public internet",
                "description": "No"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "VSI on existing VPC",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vsi-vsi.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The extension to an existing VPC deployable architecture is based on the IBM Cloud for Financial Services reference architecture. The architecture creates a customizable and secure infrastructure with virtual servers to run your workloads with IBM Cloud VPC in multizone regions."
              }
            ]
          }
        }
      ]
    },
    {
      "name": "deploy-arch-ibm-slz-vpc",
      "label": "VPC landing zone",
      "product_kind": "solution",
      "tags": [
        "network_vpc",
        "ibm_created",
        "target_terraform",
        "terraform",
        "reference_architecture",
        "solution"
      ],
      "keywords": [
        "vpc",
        "slz",
        "IaC",
        "Infrastructure",
        "terraform",
        "solution"
      ],
      "short_description": "Deploys a secure VPC network without compute resources",
      "long_description": "The VPC landing zone deployable architecture deploys a simple Virtual Private Cloud (VPC) infrastructure without any compute resources, such as Virtual Server Instances (VSI) or Red Hat OpenShift clusters. You can use this architecture as a base on which to deploy compute resources. Or you can deploy those resources by using the other landing zone deployable architectures: [VSI on VPC landing zone](https://cloud.ibm.com/catalog/architecture/deploy-arch-ibm-slz-vsi-ef663980-4c71-4fac-af4f-4a510a9bcf68-global) and [Red Hat OpenShift Container Platform on VPC landing zone](https://cloud.ibm.com/catalog/architecture/deploy-arch-ibm-slz-ocp-95fccffc-ae3b-42df-b6d9-80be5914d852-global).",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-vpc",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/.docs/images/deploy-arch-slz-vpc-lt.svg",
      "provider_name": "IBM",
      "features": [
        {
          "description": "Creates a VPC-based topology based on two VPCs, by default.\n",
          "title": "Creates Virtual Private Clouds"
        },
        {
          "description": "Defines multiple subnets in the VPC to define IP ranges and organize resources within the network.\n",
          "title": "Configures subnets"
        },
        {
          "description": "The transit gateway connects the two default VPCs that the deployable architecture creates.\n",
          "title": "Creates a transit gateway"
        },
        {
          "description": "IBM Cloud Object Storage is used for Flow Logs and Activity Tracker, which enhance the observability and auditing of your infrastructure.\n",
          "title": "Integrates Flow Logs and Activity tracking"
        },
        {
          "description": "Isolates and speeds traffic to the public internet by using an edge VPC in a specific location, if enabled.\n",
          "title": "Supports edge networking"
        }
      ],
      "flavors": [
        {
          "label": "Standard",
          "name": "standard",
          "install_type": "fullstack",
          "working_directory": "patterns/vpc",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix"
            },
            {
              "key": "tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_cidr"
            },
            {
              "key": "vpcs"
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "transit_gateway_global"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "hs_crypto_instance_name"
            },
            {
              "key": "hs_crypto_resource_group"
            },
            {
              "key": "use_random_cos_suffix"
            },
            {
              "key": "add_edge_vpc",
              "hidden": true
            },
            {
              "key": "create_f5_network_on_management_vpc",
              "hidden": true
            },
            {
              "key": "provision_teleport_in_f5",
              "hidden": true
            },
            {
              "key": "vpn_firewall_type",
              "hidden": true
            },
            {
              "key": "ssh_public_key",
              "hidden": true
            },
            {
              "key": "f5_image_name",
              "hidden": true
            },
            {
              "key": "f5_instance_profile",
              "hidden": true
            },
            {
              "key": "hostname",
              "hidden": true
            },
            {
              "key": "domain",
              "hidden": true
            },
            {
              "key": "tmos_admin_password",
              "hidden": true
            },
            {
              "key": "license_type",
              "hidden": true
            },
            {
              "key": "byol_license_basekey",
              "hidden": true
            },
            {
              "key": "license_host",
              "hidden": true
            },
            {
              "key": "license_username",
              "hidden": true
            },
            {
              "key": "license_password",
              "hidden": true
            },
            {
              "key": "license_pool",
              "hidden": true
            },
            {
              "key": "license_sku_keyword_1",
              "hidden": true
            },
            {
              "key": "license_sku_keyword_2",
              "hidden": true
            },
            {
              "key": "license_unit_of_measure",
              "hidden": true
            },
            {
              "key": "do_declaration_url",
              "hidden": true
            },
            {
              "key": "as3_declaration_url",
              "hidden": true
            },
            {
              "key": "ts_declaration_url",
              "hidden": true
            },
            {
              "key": "phone_home_url",
              "hidden": true
            },
            {
              "key": "template_source",
              "hidden": true
            },
            {
              "key": "template_version",
              "hidden": true
            },
            {
              "key": "app_id",
              "hidden": true
            },
            {
              "key": "tgactive_url",
              "hidden": true
            },
            {
              "key": "tgstandby_url",
              "hidden": true
            },
            {
              "key": "tgrefresh_url",
              "hidden": true
            },
            {
              "key": "enable_f5_management_fip",
              "hidden": true
            },
            {
              "key": "enable_f5_external_fip",
              "hidden": true
            },
            {
              "key": "teleport_management_zones",
              "hidden": true
            },
            {
              "key": "use_existing_appid",
              "hidden": true
            },
            {
              "key": "appid_name",
              "hidden": true
            },
            {
              "key": "appid_resource_group",
              "hidden": true
            },
            {
              "key": "teleport_instance_profile",
              "hidden": true
            },
            {
              "key": "teleport_vsi_image_name",
              "hidden": true
            },
            {
              "key": "teleport_license",
              "hidden": true
            },
            {
              "key": "https_cert",
              "hidden": true
            },
            {
              "key": "https_key",
              "hidden": true
            },
            {
              "key": "teleport_hostname",
              "hidden": true
            },
            {
              "key": "teleport_domain",
              "hidden": true
            },
            {
              "key": "teleport_version",
              "hidden": true
            },
            {
              "key": "message_of_the_day",
              "hidden": true
            },
            {
              "key": "teleport_admin_email",
              "hidden": true
            },
            {
              "key": "skip_all_s2s_auth_policies"
            },
            {
              "key": "skip_kms_block_storage_s2s_auth_policy"
            },
            {
              "key": "override",
              "hidden": true
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "key": "IC_SCHEMATICS_WORKSPACE_ID"
            },
            {
              "key": "existing_vpc_cbr_zone_id"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Separate VPC for management",
                "description": "Yes"
              },
              {
                "title": "Separate VPC for workloads",
                "description": "Yes"
              },
              {
                "title": "Increases security with Key Management",
                "description": "Yes"
              },
              {
                "title": "Reduces failure events by using multizone regions",
                "description": "Yes"
              },
              {
                "title": "Collects and stores Internet Protocol (IP) traffic information with Activity Tracker and Flow Logs",
                "description": "Yes"
              },
              {
                "title": "Securely connects to multiple networks with a site-to-site virtual private network",
                "description": "Yes"
              },
              {
                "title": "Simplifies risk management and demonstrates regulatory compliance with Financial Services",
                "description": "Yes"
              },
              {
                "title": "Uses an edge VPC for secure access through the public internet",
                "description": "Yes, if enabled"
              },
              {
                "title": "Uses Floating IP address for access through the public internet",
                "description": "No"
              },
              {
                "description": "Configures existing CBR (Context-based restrictions) rules to allow traffic to flow only from the landing zone VPCs to specific cloud services.\n",
                "title": "Configures CBR"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "VPC landing zone - Standard variation",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/vpc.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The Standard variation of the VPC landing zone deployable architecture deploys a simple Virtual Private Cloud (VPC) infrastructure without any compute resources. You can use this architecture as a base on which to deploy compute resources. The Standard variation uses two Virtual Private Clouds (VPC) - a Management VPC and a Workload VPC - to manage the environment and the deployed workload. Each VPC is a multi-zoned, multi-subnet implementation that keeps your workloads secure. A transit gateway connects the VPCs to each other and Virtual Private Endpoints are used connect to IBM Cloud services."
              }
            ]
          }
        }
      ]
    },
    {
      "name": "deploy-arch-ibm-slz-ocp",
      "label": "Red Hat OpenShift Container Platform on VPC landing zone",
      "product_kind": "solution",
      "tags": [
        "compute",
        "ibm_created",
        "target_terraform",
        "terraform",
        "reference_architecture",
        "solution"
      ],
      "keywords": [
        "vpc",
        "slz",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "Red Hat OpenShift Container Platform",
        "OCP"
      ],
      "short_description": "Creates Red Hat OpenShift workload clusters on a secure VPC network",
      "long_description": "The Red Hat OpenShift Container Platform on VPC landing zone provides the tools to deploy a Red Hat OpenShift Container Platform cluster in a single Virtual Private Cloud (VPC) network. The VPC is a multi-zoned, multi-subnet implementation that keeps your VPC secure and highly available.\n",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-ocp",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/.docs/images/deploy-arch-slz-ocp-lt.svg",
      "provider_name": "IBM",
      "features": [
        {
          "description": "Creates and configures one or more clusters to handle workloads. You can specify the version and cluster size.\n",
          "title": "Creates Open Shift Container Platform clusters for workloads"
        },
        {
          "description": "With worker pools, you can group and manage worker nodes with similar configurations, such as compute resources and availability zones.\n",
          "title": "Creates worker pools"
        },
        {
          "description": "Configures the subnets for the cluster, and specifies the subnets to deploy the worker nodes in.\n",
          "title": "Configures subnets for containers"
        },
        {
          "description": "Configures private and public endpoints for the cluster.\n",
          "title": "Supports private and public endpoints"
        },
        {
          "description": "Configures the ingress controller for the cluster, responsible for routing external traffic to the appropriate services within the cluster.\n",
          "title": "Configures ingress"
        }
      ],
      "flavors": [
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "service_name": "containers-kubernetes",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required to create and edit OpenShift cluster and the related resources."
            },
            {
              "service_name": "iam-identity",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "notes": "Required to create the containers-kubernetes-key needed by the OpenShift cluster on IBM Cloud."
            },
            {
              "service_name": "is.vpc",
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Administrator"],
               "notes": "Required for creating Virtual Private Cloud(VPC)."
            },
            {
              "service_name": "cloud-object-storage",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required to create Cloud Object Storage (COS) Instance."
            },
            {
              "service_name": "hs-crypto",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if KMS encryption is enabled and IBM Hyper Protect Crypto Services is used to encrypt the Kubernetes Secrets and Object Storage bucket."
            },
            {
              "service_name": "kms",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if KMS encryption is enabled and Key protect is used for encryption of Kubernetes Secrets and Object Storage bucket."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Cloud monitoring."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Cloud logs."
            },
            {
              "service_name": "logs-router",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
               "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Logs Routing."
            },
            {
              "service_name": "atracker",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Activity Tracker Event Routing."
            },
            {
              "service_name": "secrets-manager",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "notes": "[Optional] Required for creating an Secrets Manager instance. 'Manager' access required to create new secret groups."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure by default standards, but can be edited to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift cluster topology",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-base-ocp-vpc/refs/heads/main/reference-architecture/deployable-architecture-ocp-cluster.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture supports creation of <b>Red Hat OpenShift cluster</b> within a Virtual Private Cloud (VPC).<br><br>You can create a fully-configured <b>VPC</b> by selecting the [Cloud automation for VPC](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-vpc-2af61763-f8ef-4527-a815-b92166f29bc8-global) dependency or you can use an existing VPC if any. The VPC can be provisioned either in a single-zone or multi-zone configuration, depending on your availability requirements. By default, the VPC addon provisions a three-zone VPC, forming the foundation for your OpenShift cluster. This cluster includes a single worker pool distributed across all three zones, with two worker nodes per zone. If you need additional worker pools, you can easily configure them using the <b>additional_worker_pools</b> variable.<br><br>A <b>Cloud Object Storage (COS)</b> instance is required for this topology. Within this instance, an Object Storage bucket will be created, which serves as the internal registry storage for the OpenShift cluster. The [Cloud automation for Object Storage](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cos-68921490-2778-4930-ac6d-bae7be6cd958-global) architecture supports the creation of COS instance. Additionally, the storage bucket can be encrypted using <b>Key Management Services(KMS)</b> to enhance security.<br><br>For logging and monitoring needs, you can enable <b>Observability</b> for your cluster. [Cloud automation for Observability](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-observability-a3137d28-79e0-479d-8a24-758ebd5a0eab-global) provides advanced monitoring, logging, and operational insights into the performance and health of your deployment.<br><br><b>Secrets Manager</b> Integration can also be enabled using [Cloud automation for Secrets Manager](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/dep[…]bm-secrets-manager-6d6ebc76-7bbd-42f5-8bc7-78f4fabd5944-global) for centrally managing Ingress subdomain certificates, ensuring secure management of sensitive credentials.<br><br>This architecture provides a robust and secure foundation for deploying and managing your Red Hat OpenShift cluster, enabling seamless integration, enhanced security, and comprehensive monitoring for your cloud-native applications."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "cluster_name",
              "required": true
            },
            {
              "key": "ocp_version",
              "required": true,
              "options": [
                {
                  "displayname": "4.17",
                  "value": "4.17"
                },
                {
                  "displayname": "4.16",
                  "value": "4.16"
                },
                {
                  "displayname": "4.15",
                  "value": "4.15"
                },
                {
                  "displayname": "4.14",
                  "value": "4.14"
                }
              ]
            },
            {
              "key": "default_worker_pool_machine_type",
              "required": true,
              "options": [
                {
                  "displayname": "bx2.16x64",
                  "value": "bx2.16x64"
                },
                {
                  "displayname": "bx2.32x128",
                  "value": "bx2.32x128"
                },
                {
                  "displayname": "bx2.48x192",
                  "value": "bx2.48x192"
                },
                {
                  "displayname": "bx2.8x32",
                  "value": "bx2.8x32"
                },
                {
                  "displayname": "bx3d.128x640",
                  "value": "bx3d.128x640"
                },
                {
                  "displayname": "bx3d.16x80",
                  "value": "bx3d.16x80"
                },
                {
                  "displayname": "bx3d.24x120",
                  "value": "bx3d.24x120"
                },
                {
                  "displayname": "bx3d.32x160",
                  "value": "bx3d.32x160"
                },
                {
                  "displayname": "bx3d.48x240",
                  "value": "bx3d.48x240"
                },
                {
                  "displayname": "bx3d.64x320",
                  "value": "bx3d.64x320"
                },
                {
                  "displayname": "bx3d.8x40",
                  "value": "bx3d.8x40"
                },
                {
                  "displayname": "bx3d.96x480",
                  "value": "bx3d.96x480"
                },
                {
                  "displayname": "cx2.16x32",
                  "value": "cx2.16x32"
                },{
                  "displayname": "cx2.32x64",
                  "value": "cx2.32x64"
                },
                {
                  "displayname": "cx2.48x96",
                  "value": "cx2.48x96"
                },
                {
                  "displayname": "cx3d.128x320",
                  "value": "cx3d.128x320"
                },
                {
                  "displayname": "cx3d.16x40",
                  "value": "cx3d.16x40"
                },
                {
                  "displayname": "cx3d.24x60",
                  "value": "cx3d.24x60"
                },
                {
                  "displayname": "cx3d.32x80",
                  "value": "cx3d.32x80"
                },
                {
                  "displayname": "cx3d.48x120",
                  "value": "cx3d.48x120"
                },
                {
                  "displayname": "cx3d.64x160",
                  "value": "cx3d.64x160"
                },
                {
                  "displayname": "cx3d.96x240",
                  "value": "cx3d.96x240"
                },
                {
                  "displayname": "mx2.128x1024",
                  "value": "mx2.128x1024"
                },
                {
                  "displayname": "mx2.16x128",
                  "value": "mx2.16x128"
                },
                {
                  "displayname": "mx2.32x256",
                  "value": "mx2.32x256"
                },
                {
                  "displayname": "mx2.48x384",
                  "value": "mx2.48x384"
                },
                {
                  "displayname": "mx2.64x512",
                  "value": "mx2.64x512"
                },
                {
                  "displayname": "mx2.8x64",
                  "value": "mx2.8x64"
                },
                {
                  "displayname": "mx3d.128x1280",
                  "value": "mx3d.128x1280"
                },
                {
                  "displayname": "mx3d.24x240",
                  "value": "mx3d.24x240"
                },
                {
                  "displayname": "mx3d.32x320",
                  "value": "mx3d.32x320"
                },
                {
                  "displayname": "mx3d.48x480",
                  "value": "mx3d.48x480"
                },
                {
                  "displayname": "mx3d.64x640",
                  "value": "mx3d.64x640"
                },
                {
                  "displayname": "mx3d.96x960",
                  "value": "mx3d.96x960"
                },
                {
                  "displayname": "bx2d.metal.96x384 (Only available in Toronto (ca-tor))",
                  "value": "bx2d.metal.96x384"
                },
                {
                  "displayname": "cx2d.metal.96x192 (Only available in Toronto (ca-tor)) ",
                  "value": "cx2d.metal.96x192"
                },
                {
                  "displayname": "mx2d.metal.96x768 (Only available in Toronto (ca-tor))) ",
                  "value": "mx2d.metal.96x768"
                },
                { "displayname": "mx2.16x128.2000gb (Not available in Sao Paulo (br-sao), Montreal (ca-mon), Madrid (eu-es), Osaka (jp-osa))",
                  "value": "mx2.16x128.2000gb"
                },
                {
                  "displayname": "ox2.128x1024 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.128x1024"
                },
                {
                  "displayname": "ox2.16x128 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.16x128"
                },
                {
                  "displayname": "ox2.32x256 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.32x256"
                },
                {
                  "displayname": "ox2.64x512 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.64x512"
                },
                {
                  "displayname": "ox2.8x64 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.8x64"
                },
                {
                  "displayname": "ox2.96x768 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.96x768"
                }
              ]
            },
            {
              "key": "default_worker_pool_workers_per_zone",
              "required": true
            },
            {
              "key": "default_worker_pool_operating_system",
              "required": true,
              "options": [
                {
                  "displayname": "RHEL 9",
                  "value": "RHEL_9_64"
                },
                {
                  "displayname": "Red Hat CoreOS",
                  "value": "RHCOS"
                },
                {
                  "displayname": "RHEL 8",
                  "value": "REDHAT_8_64"
                }
              ]
            },
            {
              "key": "existing_vpc_crn",
              "required": true
            },
            {
              "key": "region",
              "required": true,
              "type": "string",
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "description": "Region in which all the resources will be deployed. [Learn More](https://terraform-ibm-modules.github.io/documentation/#/region).",
              "virtual": true,
              "default_value": "us-south"
            },
            {
              "key": "existing_cos_instance_crn",
              "required": true
            },
            {
              "key": "enable_platform_metrics",
              "type": "string",
              "default_value": "true",
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. ⚠️ You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true,
              "options": [
                {
                  "displayname": "true",
                  "value": "true"
                },
                {
                  "displayname": "false",
                  "value": "false"
                }
              ]
            },
            {
              "key": "logs_routing_tenant_regions",
              "type": "list(string)",
              "default_value": "[]",
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. For example: [\"us-south\", \"us-east\"]. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "cluster_resource_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "access_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "ocp_entitlement"
            },
            {
              "key": "cluster_ready_when",
              "options": [
                {
                  "displayname": "Normal",
                  "value": "Normal"
                },
                {
                  "displayname": "IngressReady",
                  "value": "IngressReady"
                },
                {
                  "displayname": "OneWorkerNodeReady",
                  "value": "OneWorkerNodeReady"
                },
                {
                  "displayname": "MasterNodeReady",
                  "value": "MasterNodeReady"
                }
              ]
            },
            {
              "key": "enable_ocp_console"
            },
            {
              "key": "addons"
            },
            {
              "key": "manage_all_addons"
            },
            {
              "key": "additional_worker_pools",
              "type": "array",
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "worker_pools_taints",
              "type": "array",
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "ignore_worker_pool_size_changes"
            },
            {
              "key": "allow_default_worker_pool_replacement"
            },
            {
              "key": "default_worker_pool_labels"
            },
            {
              "key": "enable_autoscaling_for_default_pool"
            },
            {
              "key": "default_pool_minimum_number_of_nodes"
            },
            {
              "key": "default_pool_maximum_number_of_nodes"
            },
            {
              "key": "additional_security_group_ids"
            },
            {
              "key": "existing_subnet_ids"
            },
            {
              "key": "use_private_endpoint"
            },
            {
              "key": "disable_public_endpoint"
            },
            {
              "key": "cluster_config_endpoint_type",
              "options": [
                {
                  "displayname": "default",
                  "value": "default"
                },
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "vpe",
                  "value": "vpe"
                },
                {
                  "displayname": "link",
                  "value": "link"
                }
              ]
            },
            {
              "key": "disable_outbound_traffic_protection"
            },
            {
              "key": "verify_worker_network_readiness"
            },
            {
              "key": "pod_subnet_cidr"
            },
            {
              "key": "service_subnet_cidr"
            },
            {
              "key": "custom_security_group_ids"
            },
            {
              "key": "attach_ibm_managed_security_group"
            },
            {
              "key": "additional_lb_security_group_ids"
            },
            {
              "key": "number_of_lbs"
            },
            {
              "key": "additional_vpe_security_group_ids"
            },
            {
              "key": "ibmcloud_kms_api_key"
            },
            {
              "key": "kms_encryption_enabled_cluster"
            },
            {
              "key": "existing_kms_instance_crn"
            },
            {
              "key": "existing_cluster_kms_key_crn"
            },
            {
              "key": "kms_endpoint_type",
              "options": [
                {
                  "displayname": "Public",
                  "value": "public"
                },
                {
                  "displayname": "Private",
                  "value": "private"
                }
              ],
              "hidden": true
            },
            {
              "key": "cluster_kms_key_name"
            },
            {
              "key": "cluster_kms_key_ring_name"
            },
            {
              "key": "kms_encryption_enabled_boot_volume"
            },
            {
              "key": "existing_boot_volume_kms_key_crn"
            },
            {
              "key": "boot_volume_kms_key_name"
            },
            {
              "key": "boot_volume_kms_key_ring_name"
            },
            {
              "key": "cbr_rules",
              "display_name": "openshift_cluster_cbr_rules",
              "type": "array",
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "enable_secrets_manager_integration"
            },
            {
              "key": "existing_secrets_manager_instance_crn"
            },
            {
              "key": "secrets_manager_secret_group_id"
            },
            {
              "key": "secrets_manager_endpoint_type",
              "hidden": true
            },
            {
              "key": "secrets_manager_service_plan"
            },
            {
              "key": "skip_ocp_secrets_manager_iam_auth_policy"
            },
            {
              "key": "provider_visibility",
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ],
              "hidden": true
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-vpc",
              "description": "Configure the VPC instance and subnets where the OpenShift cluster will be deployed. ",
              "id": "2af61763-f8ef-4527-a815-b92166f29bc8-global",
              "version": "v7.24.0",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input":"region",
                  "version_input":"region",
                  "reference_version": true
                },
                {
                  "dependency_output": "vpc_crn",
                  "version_input": "existing_vpc_crn"
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "description": "Cloud automation for Account Configuration organizes your IBM Cloud account with a ready-made set of resource groups by default and, when you enable the \"with Account Settings\" option, it also applies baseline security and governance settings. ",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "resource-group-only",
                "resource-groups-with-account-settings"
              ],
              "default_flavor": "resource-group-only",
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [
                {
                  "dependency_output": "workload_resource_group_name",
                  "version_input": "existing_resource_group_name"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": false,
              "version": "v3.0.7"
            },
            {
              "name": "deploy-arch-ibm-kms",
              "description": "Enable Cloud Automation for Key Protect when you want services to use your own managed encryption keys. If disabled, it will fall back on IBM Cloud's default service-managed encryption. ",
              "id": "2cad4789-fa90-4886-9c9e-857081c273ee-global",
              "version": "v5.1.4",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "version_input": "kms_encryption_enabled_cluster",
                  "value": true
                },
                {
                  "dependency_output": "kms_instance_crn",
                  "version_input": "existing_kms_instance_crn"
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-cos",
              "description": "Enable to create a Cloud Object Storage (COS) instance, where an object storage bucket can be provisioned and used as the internal registry storage for OpenShift cluster. ",
              "id": "68921490-2778-4930-ac6d-bae7be6cd958-global",
              "version": "v9.0.2",
              "flavors": [
                "instance"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_output": "cos_instance_crn",
                  "version_input": "existing_cos_instance_crn"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-observability",
              "description": "Configure IBM Cloud Logs, Cloud Monitoring and Activity Tracker event routing for analysing logs and metrics generated by the OpenShift cluster. ",
              "id": "a3137d28-79e0-479d-8a24-758ebd5a0eab-global",
              "version": "v3.0.3",
              "flavors": [
                "instances"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-secrets-manager",
              "description": "Configure Secrets Manager instance for centrally managing Ingress subdomain certificates and other secrets. ",
              "id": "6d6ebc76-7bbd-42f5-8bc7-78f4fabd5944-global",
              "version": "v2.4.0",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "service_plan",
                  "version_input": "secrets_manager_service_plan",
                  "reference_version": true
                },
                {
                  "dependency_input": "secrets_manager_endpoint_type",
                  "version_input": "secrets_manager_endpoint_type",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_output": "secrets_manager_crn",
                  "version_input": "existing_secrets_manager_instance_crn"
                },
                {
                  "version_input": "enable_secrets_manager_integration",
                  "value": true
                }
              ]
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        },
        {
          "label": "QuickStart",
          "name": "quickstart",
          "install_type": "fullstack",
          "working_directory": "patterns/roks-quickstart",
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true,
              "type": "string"
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "kube_version"
            },
            {
              "key": "flavor"
            },
            {
              "key": "entitlement"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Management VPC with one subnet, allow-all ACL and Security Group",
                "description": "Yes"
              },
              {
                "title": "Workload VPC with two subnets, in two zones, allow-all ACL and Security Group",
                "description": "Yes"
              },
              {
                "title": "Transit Gateway connecting VPCs",
                "description": "Yes"
              },
              {
                "title": "One OCP cluster in workload VPC with two worker nodes, public endpoint enabled",
                "description": "Yes"
              },
              {
                "title": "Key Protect for cluster encryption keys",
                "description": "Yes"
              },
              {
                "title": "Cloud Object Storage instance (required for cluster)",
                "description": "Yes"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift Container Platform on VPC landing zone - QuickStart variation",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/roks-quickstart.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The QuickStart variation of the Red Hat OpenShift Container Platform on VPC landing zone deployable architecture creates one Red Hat OpenShift Container Platform cluster in workload VPC with two worker nodes and public endpoint enabled. The QuickStart variation is designed to help you get started quickly, but is not highly available or validated for the IBM Cloud Framework for Financial Services."
              }
            ]
          }
        },
        {
          "label": "Standard",
          "name": "standard",
          "install_type": "fullstack",
          "working_directory": "patterns/roks",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "configuration": [
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "kube_version",
              "type": "string",
              "required": true,
              "options": [
                {
                  "displayname": "4.14_openshift",
                  "value": "4.14_openshift"
                },
                {
                  "displayname": "4.15_openshift",
                  "value": "4.15_openshift"
                },
                {
                  "displayname": "4.16_openshift",
                  "value": "4.16_openshift"
                },
                {
                  "displayname": "4.17_openshift",
                  "value": "4.17_openshift"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix"
            },
            {
              "key": "tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_cidr"
            },
            {
              "key": "vpcs"
            },
            {
              "key": "ignore_vpcs_for_cluster_deployment"
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "transit_gateway_global"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "hs_crypto_instance_name"
            },
            {
              "key": "hs_crypto_resource_group"
            },
            {
              "key": "existing_kms_instance_name"
            },
            {
              "key": "existing_kms_resource_group"
            },
            {
              "key": "existing_kms_endpoint_type"
            },
            {
              "key": "use_random_cos_suffix"
            },
            {
              "key": "existing_cos_instance_name"
            },
            {
              "key": "existing_cos_resource_group"
            },
            {
              "key": "existing_cos_endpoint_type"
            },
            {
              "key": "use_existing_cos_for_vpc_flowlogs"
            },
            {
              "key": "use_existing_cos_for_atracker"
            },
            {
              "key": "cluster_zones"
            },
            {
              "key": "flavor"
            },
            {
              "key": "workers_per_zone"
            },
            {
              "key": "wait_till"
            },
            {
              "key": "kms_wait_for_apply"
            },
            {
              "key": "entitlement"
            },
            {
              "key": "secondary_storage"
            },
            {
              "key": "cluster_addons"
            },
            {
              "key": "manage_all_cluster_addons"
            },
            {
              "key": "disable_outbound_traffic_protection"
            },
            {
              "key": "cluster_force_delete_storage"
            },
            {
              "key": "operating_system"
            },
            {
              "key": "verify_cluster_network_readiness"
            },
            {
              "key": "use_ibm_cloud_private_api_endpoints"
            },
            {
              "key": "add_edge_vpc",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "create_f5_network_on_management_vpc"
            },
            {
              "hidden": true,
              "key": "provision_teleport_in_f5"
            },
            {
              "hidden": true,
              "key": "vpn_firewall_type"
            },
            {
              "hidden": true,
              "key": "ssh_public_key"
            },
            {
              "hidden": true,
              "key": "existing_ssh_key_name"
            },
            {
              "hidden": true,
              "key": "f5_image_name"
            },
            {
              "hidden": true,
              "key": "f5_instance_profile"
            },
            {
              "hidden": true,
              "key": "hostname"
            },
            {
              "hidden": true,
              "key": "domain"
            },
            {
              "hidden": true,
              "key": "tmos_admin_password",
              "type": "password"
            },
            {
              "hidden": true,
              "key": "license_type"
            },
            {
              "hidden": true,
              "key": "byol_license_basekey"
            },
            {
              "hidden": true,
              "key": "license_host"
            },
            {
              "hidden": true,
              "key": "license_username"
            },
            {
              "hidden": true,
              "key": "license_password"
            },
            {
              "hidden": true,
              "key": "license_pool"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_1"
            },
            {
              "hidden": true,
              "key": "license_sku_keyword_2"
            },
            {
              "hidden": true,
              "key": "license_unit_of_measure"
            },
            {
              "hidden": true,
              "key": "do_declaration_url"
            },
            {
              "hidden": true,
              "key": "as3_declaration_url"
            },
            {
              "hidden": true,
              "key": "ts_declaration_url"
            },
            {
              "key": "phone_home_url",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "template_source"
            },
            {
              "key": "template_version",
              "hidden": true
            },
            {
              "hidden": true,
              "key": "app_id"
            },
            {
              "hidden": true,
              "key": "tgactive_url"
            },
            {
              "hidden": true,
              "key": "tgstandby_url"
            },
            {
              "hidden": true,
              "key": "tgrefresh_url"
            },
            {
              "hidden": true,
              "key": "enable_f5_management_fip"
            },
            {
              "hidden": true,
              "key": "enable_f5_external_fip"
            },
            {
              "hidden": true,
              "key": "teleport_management_zones"
            },
            {
              "hidden": true,
              "key": "use_existing_appid"
            },
            {
              "hidden": true,
              "key": "appid_name"
            },
            {
              "hidden": true,
              "key": "appid_resource_group"
            },
            {
              "hidden": true,
              "key": "teleport_instance_profile"
            },
            {
              "hidden": true,
              "key": "teleport_vsi_image_name"
            },
            {
              "hidden": true,
              "key": "teleport_license"
            },
            {
              "hidden": true,
              "key": "https_cert"
            },
            {
              "hidden": true,
              "key": "https_key"
            },
            {
              "hidden": true,
              "key": "teleport_hostname"
            },
            {
              "hidden": true,
              "key": "teleport_domain"
            },
            {
              "hidden": true,
              "key": "teleport_version"
            },
            {
              "hidden": true,
              "key": "message_of_the_day"
            },
            {
              "hidden": true,
              "key": "teleport_admin_email"
            },
            {
              "key": "skip_kms_block_storage_s2s_auth_policy"
            },
            {
              "key": "skip_all_s2s_auth_policies"
            },
            {
              "key": "override",
              "hidden": true
            },
            {
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              },
              "key": "override_json_string"
            },
            {
              "key": "IC_SCHEMATICS_WORKSPACE_ID"
            },
            {
              "key": "existing_vpc_cbr_zone_id"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Separate VPC for management",
                "description": "Yes"
              },
              {
                "title": "Separate VPC for workloads",
                "description": "Yes"
              },
              {
                "title": "Red Hat OpenShift",
                "description": "Yes"
              },
              {
                "title": "Increases security with Key Management",
                "description": "Yes"
              },
              {
                "title": "Reduces failure events by using multizone regions",
                "description": "Yes"
              },
              {
                "title": "Collects and stores Internet Protocol (IP) traffic information with Activity Tracker and Flow Logs",
                "description": "Yes"
              },
              {
                "title": "Securely connects to multiple networks with a site-to-site virtual private network",
                "description": "Yes"
              },
              {
                "title": "Simplifies risk management and demonstrates regulatory compliance with Financial Services",
                "description": "Yes"
              },
              {
                "title": "Uses an edge VPC for secure access through the public internet",
                "description": "Yes, if enabled"
              },
              {
                "title": "Uses Floating IP address for access through the public internet",
                "description": "No"
              },
              {
                "description": "Configures existing CBR (Context-based restrictions) rules to allow traffic to flow only from the landing zone VPCs to specific cloud services.\n",
                "title": "Configures CBR"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift Container Platform on VPC landing zone - Standard variation",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/roks.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The Standard variation of the Red Hat OpenShift Container Platform on VPC landing zone is based on the IBM Cloud for Financial Services reference architecture. The architecture creates secure and compliant Red Hat OpenShift Container Platform workload clusters on a Virtual Private Cloud (VPC) network."
              }
            ]
          }
        }
      ]
    }
  ]
}
